webpackJsonp([0],{"1Gjl":function(e,t){},"2AOw":function(e,t){},DASB:function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});s("d2Xj");var r=s("7+uW");class a{}class n{get reader(){return this._reader||(this._reader=new FileReader,this._reader.addEventListener("load",this.onLoad.bind(this)),this._reader.addEventListener("loadstart",this.onLoadStart.bind(this)),this._reader.addEventListener("loadend",this.onLoadEnd.bind(this)),this._reader.addEventListener("progress",this.onProgress.bind(this)),this._reader.addEventListener("abort",this.onAbort.bind(this)),this._reader.addEventListener("error",this.onError.bind(this))),this._reader}readAsText(e){this.reader.readAsText(e),this.progress=new o(e.name,"text"),console.log(this.progress)}readAsUrl(e){this.reader.readAsDataURL(e),this.progress=new o(e.name,"url"),console.log(this.progress)}readAsBinary(e){this.reader.readAsArrayBuffer(e),this.progress=new o(e.name,"binary"),console.log(this.progress)}execute(e){}onLoadStart(e){this.progress.loaded=e.loaded,this.progress.total=e.total}onProgress(e){this.progress.loaded=e.loaded,this.progress.total=e.total}onLoad(e){this.progress.loaded=e.loaded,this.progress.total=e.total}onLoadEnd(e){this.progress.loaded=e.loaded,this.progress.total=e.total,this.progress.state="complete"}onAbort(e){this.progress.state="abort"}onError(e){console.error(e),this.progress.state="error"}}class o extends a{constructor(e,t){super(),this.file=e,this.loaded=0,this.total=0,this.type=t,this.state=""}get html(){return`\n<div>\n<span>read ${this.file} as ${this.type}:</span>\n<span>${this.loaded}/${this.total}(${parseInt(100*this.loaded/this.total)}%)</span>\n<span class="${this.state}">${this.state}</span>\n</div>\n`}}class i extends a{constructor(e){super(),this.text=e}get html(){return`\n<article>\n  <p>${this.text}</p>\n</article>\n`}}class d extends a{constructor(e){super(),this.url=e}get html(){return`\n<article>\n  <img src="${this.url}">\n</article>\n`}}class l extends a{constructor(e){super(),this.url=e}get html(){return`\n<article>\n  <audio src="${this.url}" controls></audio>\n</article>\n`}}class c extends a{constructor(e){super(),this.url=e}get html(){return`\n<article>\n  <video src="${this.url}" controls></video>\n</article>\n`}}var u=[{name:"TextReader",factory:class extends n{execute(e){super.readAsText(e)}onLoadEnd(e){super.onLoadEnd(e),console.log(new i(this.reader.result))}}},{name:"ImageReader",factory:class extends n{execute(e){super.readAsUrl(e)}onLoadEnd(e){super.onLoadEnd(e),console.log(new d(this.reader.result))}}},{name:"AudioReader",factory:class extends n{execute(e){super.readAsUrl(e)}onLoadEnd(e){super.onLoadEnd(e),console.log(new l(this.reader.result))}}},{name:"VideoReader",factory:class extends n{execute(e){super.readAsUrl(e)}onLoadEnd(e){super.onLoadEnd(e),console.log(new c(this.reader.result))}}}],h={data:()=>({reader:"",file:"",error:!1}),watch:{reader(){this.error=!1}},computed:{readers:()=>u},methods:{onFileChoose(e){this.file=e.target.files[0]},startLoad(){let e=u.find(e=>e.name===this.reader);e?this.$emit("load",{file:this.file,Reader:e.factory}):this.error=!0}}},p={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("form",[s("section",[s("label",[e._v("Reader")]),e._v(" "),s("article",[s("div",[s("select",{directives:[{name:"model",rawName:"v-model",value:e.reader,expression:"reader"}],class:{error:e.error},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.reader=t.target.multiple?s:s[0]}}},[s("option",{attrs:{value:""}},[e._v("choose a reader ...")]),e._v(" "),e._l(e.readers,function(t,r){return s("option",{key:r,domProps:{value:t.name}},[e._v(e._s(t.name))])})],2)])])]),e._v(" "),s("section",[s("label",[e._v("Target File")]),e._v(" "),s("article",{staticClass:"file"},[s("div",{staticClass:"upload button"},[e._v("\n        "+e._s(e.file?e.file.name:"drag file to here")+"\n        "),s("input",{attrs:{type:"file"},on:{change:e.onFileChoose}})]),e._v(" "),e.file?s("div",{staticClass:"info"},[s("div",[e._v("file size: "+e._s(e._f("size")(e.file.size)))]),e._v(" "),s("div",[e._v("last modify: "+e._s(e._f("time")(e.file.lastModifiedDate)))]),e._v(" "),s("div",[s("button",{attrs:{type:"button"},on:{click:e.startLoad}},[e._v("Load")])])]):e._e()])])])},staticRenderFns:[]};var v=s("VU/8")(h,p,!1,function(e){s("DASB")},"data-v-77d1d7fc",null).exports,f={data:()=>({messages:[]}),mounted(){let e=console.log;console.log=((...t)=>{this.messages.push(t[0]),e.apply(console,t)})},methods:{clear(){this.messages=[]}}},g={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"output"},e._l(e.messages,function(t,r){return s("div",{key:r,staticClass:"message",domProps:{innerHTML:e._s(t.html)}})}))},staticRenderFns:[]};var _={components:{OptionInput:v,LoggerOutput:s("VU/8")(f,g,!1,function(e){s("pdHq"),s("2AOw")},"data-v-20d79f60",null).exports},methods:{onRead({Reader:e,file:t}){this.$refs.output.clear(),(new e).execute(t)}}},m={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[this._m(0),this._v(" "),t("nav",{staticClass:"input"},[t("option-input",{staticClass:"content",on:{load:this.onRead}})],1),this._v(" "),t("div",{staticClass:"output white0"},[t("logger-output",{ref:"output",staticClass:"content"})],1),this._v(" "),this._m(1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("header",[t("div",{staticClass:"content"},[t("b",[this._v("File Viewer")]),this._v(" "),t("small",[this._v("in chrome")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("footer",[t("div",{staticClass:"content"},[this._v("Â©2018 Stone.Grandia")])])}]};var x=s("VU/8")(_,m,!1,function(e){s("1Gjl")},"data-v-765665de",null).exports;r.a.config.productionTip=!1,r.a.filter("time",function(e){return`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()} ${e.getHours()}:${e.getMinutes()}:${e.getSeconds()}`}),r.a.filter("size",function(e){let t="B";return e>1024&&(t="KB",(e/=1024)>1024&&(e/=1024,t="MB")),e.toFixed(1)+t});new r.a({el:"#app",render:e=>e(x)})},d2Xj:function(e,t){},pdHq:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.382f57b701c5fa788233.js.map